<!doctype html>
<html>

<head>
  <title>Baza - Cart Demo</title>
  <script src="baza.js"></script>
  <style>
    td,
    th {
      border: 1px solid #ccc;
      padding: .5rem;
    }
  </style>
</head>

<body>
  <h2>Baza - Cart Demo</h2>

  <table id="apple">
    <thead>
      <tr>
        <th>Item</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Apple</td>
        <td><input type="number" min="0" baza-bind="appleQty" /></td>
        <td>$<span baza-bind="applePrice">1.2</span></td>
        <td>$<span baza-bind="appleTotal">0</span></td>
      </tr>
    </tbody>
  </table>

  <table id="banana">
    <thead>
      <tr>
        <th>Item</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Banana</td>
        <td><input type="number" min="0" baza-bind="bananaQty" /></td>
        <td>$<span baza-bind="bananaPrice">0.8</span></td>
        <td>$<span baza-bind="bananaTotal">0</span></td>
      </tr>
    </tbody>
  </table>

  <script>
    const appleModel = { appleQty: 0, applePrice: 1.2, appleTotal: 0 };
    const apple = new Baza(appleModel, '#apple');
    apple.on('appleQty', () => {
      apple.model.appleTotal = (apple.model.appleQty * apple.model.applePrice).toFixed(2);
    });

    const bananaModel = { bananaQty: 0, bananaPrice: 0.8 };
    const banana = new Baza(bananaModel, '#banana');
    banana.on('bananaQty', () => {
      banana.model.bananaTotal = (banana.model.bananaQty * banana.model.bananaPrice).toFixed(2);
    });
  </script>
</body>
</html>
